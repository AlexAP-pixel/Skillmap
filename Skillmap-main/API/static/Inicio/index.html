<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="http://127.0.0.1:8000/static/Logo.ico">  
    <title>Skillmap</title>
    <script src="https://kit.fontawesome.com/3a2cbdeb4d.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="http://127.0.0.1:8000/static/Inicio/style.css">
    <style>body{display: none;}</style>
</head>

<body>
    <header>
        <img class="logoimg" src="http://127.0.0.1:8000/static/Login/Logo.png">
        <span class="logo">Skillmap</span>
        <nav>
            <div id="navbar">
                <a href="http://127.0.0.1:8000/Skillmap/Inicio">Inicio</a>
                <a href="http://127.0.0.1:8000/Skillmap/Dashboard">Mi cuenta</a>
                <a href="http://127.0.0.1:8000/Skillmap/AboutUs">Acerca de</a>
                <a href="http://127.0.0.1:8000/Skillmap/Contacto">Contacto</a>
                <a href="#" id="cerrar_sesion">Cerrar sesión</a>
            </div>
        </nav>
    </header>

    <main>
        <section id="hero">
            <h1>Bienvenido a Skillmap</h1>
            <p>Tu plataforma para descubrir y mapear tu futuro profesional.</p>
            <a href="http://127.0.0.1:8000/Skillmap/Empezar" class="cta-button">Empezar Ahora</a>
        </section>

        <section id="services">
            <br>
            <h2>Nuestros Servicios</h2>
            <div class="service-container">
                <article class="service">
                    <h3>Asesoramiento de Carrera</h3>
                    <p>Recibe recomendaciones personalizadas basadas en tus habilidades e intereses.</p>
                </article>
                <article class="service">
                    <h3>Rutas Educativas</h3>
                    <p>Explora diferentes caminos y cursos para alcanzar tus metas profesionales.</p>
                </article>
                <article class="service">
                    <h3>Tendencias del Mercado</h3>
                    <p>Mantente actualizado con las últimas tendencias laborales en tu industria.</p>
                </article>
            </div>
        </section>
    </main>

    <footer>
        <p>
            <i class="fa-solid fa-envelope"></i> <a href="mailto:skillmap2024@gmail.com"> skillmap2024@outlook.com</a><span style="margin-right: 100px;"></span>
            <i class="fa fa-phone"></i> <a href="tel:5611670871"> 5611670871</a>
        </p>
        <p>&copy; 2023 Skillmap. Todos los derechos reservados</p>
    </footer>
</body>
<script>
    async function verificarAutenticacion() {
        const response = await fetch('http://127.0.0.1:8000/user/me', {
            method: 'GET',
            headers: {
                'Authorization': 'Bearer ' + localStorage.getItem('access_token')
            }
        });
        const data = await response.json();
        if (!response.ok || data.error) {
            window.location.href = 'http://127.0.0.1:8000/Skillmap/';
        }else{
            document.body.style.display = 'block';
        }
    }
    verificarAutenticacion();
    
    document.getElementById('cerrar_sesion').addEventListener('click', function() {
        localStorage.removeItem('access_token');
        window.location.href = 'http://127.0.0.1:8000/Skillmap/';
    });
</script>
</html>